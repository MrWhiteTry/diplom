# diplom

Файл test_h.py представляет собой исходный файл программы, предназначенной для сбора, хранения и вывода на печать изображений.

Изображения - это сканы сертификатов соответствия на продукцию (подшипники), они храниться в базе данных, в столбце "url", в виде ссылок на документ.

Все остальные поля предназначены для описания сертификата, среди которых можно выделить:
- точное обозначения продукции;
- количество продукции, на которое выписан сертификат;
- дата начала срока гарантийного хранения и даты поступления на склад продукции = внесения сертификата в базу.

Программа является локальным приложением и не требует предустановки дополнительного ПО.
------------------------------------------------------------------------------------------
Функционал программы:
- представление описания сертификатов в виде таблицы с возможность сортировки по столбцам, с помощью нажатия на заголовок столбца.
- добовление данных о новом сертификате с помощью кнопки "Добавить позицию";
- редактирование существующих строк с помощью кнопки "Редактировать";
- поиск по "названию" товара с помощью кнопки "Поиск";
- сброс поиска и сортровок с помощью кнопки "обновить базу" (так же нужна при паралельном запуске с нескольких ПК,
  для актуализации таблици и БД);
- вывод изображения на печать с помощью кнопки "Распечатать изображение".
-------------------------------------------------------------------------------------------
Сценарии фариантов использования:

1. «Сортировка таблицы»
Краткое описание:
Этот вариант использования описывает событие при нажатии на заголовок столбца таблицы.
Основной поток событий:
1) Пользователь нажимает на заголовок столбца, по значениям которой хочет отсортировать таблицу.
2) Программа перебирает значения в столбце таблицы, не обращаясь к базе данных на прямую, и перемещает строки в таблице по возрастанию.
   Однако же один тип сортировки работает только для значений формата «TEXT».
   Для полей с наименованием «ID» и «Ящ. норма», хранящих значения формата «INTEGER», сортировка использует внутренний «ключ»,
   приводящий значение к формату «INTEGER» и сортирует числовые значения.

Альтернативный поток событий срабатывает при повторном нажатии на заголовок столбца:
1) Пользователь дважды нажимает на заголовок столбца, по значениям которой хочет отсортировать таблицу.
2) Программа перебирает значения в столбце таблицы и перемещает строки в таблице по убыванию.

2. «Добавление сертификата»
Основной поток событий:
1) Пользователь нажимает на кнопку «Добавить позицию»
2) Программа создаёт дочернее окно, перехватывая поток событий и содержащее 8 полей для ввода информации и их наименования.
   Так же дочернее окно содержит три кнопки: добавить, закрыть, файл.
   Поле с наименованием «дата ввода» заполняется программой автоматически путём запроса ОС о текущей дате, указанной в ней.
3) Пользователь заполняет поля ввода соответственно наименованиям и нажимает кнопку «добавить».
4) Программа берёт данные из полей, и заполняет ими временные переменные, после добавляет в базу данных полученные значения
   соответственно полям таблицы и обновляет вывод таблицы в главном окне программы.
5) Пользователь нажимает кнопку «закрыть».
6) Программа разрушает дочернее окно и поток событий возвращается к главному окну.
Альтернативный поток событий:
 Пользователь может воспользоваться кнопкой «файл» для заполнения поля изображения. 
По нажатию кнопки файл программа запросит ОС указать файл, ссылку на который требуется записать в таблицу,
возьмёт абсолютный путь к файлу и передаст его в поле «изображение».

3. «Обновление базы»
Основной поток событий:
1) Пользователь нажимает кнопку «обновить базу».
2) Программа выполняет перезаполненные таблицы в приложении перечитывая таблицу базы данных.

4. Вариант использования «Печать изображение»
Основной поток событий:
1) Пользователь устанавливает фокус на строке таблицы путём установки на ней курсора и нажатия левой клавиши мыши.
2) Программа определяет строку, на которой пользователь установил фокус.
3) Пользователь нажимает кнопку «Распечатать изображение».
4) Программа считывает выделенную пользователем строку, берёт из этой строки содержимое столбца «url» (столбец не отображается в таблице),
   передаёт эти данные в функцию печати файла с помощью программы по умолчанию и выводит окно печати изображение для предпросмотра. 
Альтернативный поток событий:
 Программа считывает выделенную пользователем строку, берёт из этой строки содержимое столбца «url», 
передаёт эти данные в функцию печати файла с помощью программы по умолчанию, но программа не может найти файл по указанному пути.
Тогда программа выдаёт сообщение об отсутствии файла по указанному пути.

5. «Поиск сертификата»
Основной поток событий:
1)	Пользователь нажимает на кнопку «Поиск».
2)	Программа создаёт дочернее окно содержащее поле ввода и кнопку «Найти».
3)	Пользователь вводит в поле номенклатуру подшипника, сертификаты которого хочет найти и нажимает кнопку «Найти».
4)	Программа берёт номенклатуру из поля ввода и передаёт её в исполняемую функции вывода данных из таблицы,
содержащее введённую информацию в поле «номенклатура» и закрывает дочернее окно.
